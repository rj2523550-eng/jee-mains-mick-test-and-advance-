<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE Mains Mock Test - 75 Qs</title>
    <style>
        :root { --primary: #1e3a8a; --bg: #f3f4f6; --white: #ffffff; --green: #16a34a; --red: #dc2626; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; }
        .top-bar { background: var(--primary); color: white; padding: 15px 20px; display: flex; justify-content: space-between; position: sticky; top: 0; z-index: 1000; }
        .timer { background: var(--red); padding: 5px 15px; border-radius: 5px; font-weight: bold; }
        .container { max-width: 1200px; margin: 20px auto; display: grid; grid-template-columns: 1fr 320px; gap: 20px; padding: 0 10px; }
        .question-box { background: var(--white); padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); min-height: 450px; }
        .sidebar { background: var(--white); padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: fit-content; }
        .subject-badge { padding: 4px 12px; border-radius: 20px; font-weight: bold; margin-bottom: 10px; display: inline-block; font-size: 0.8rem; }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; margin-right: 10px; }
        .btn-save { background: #2563eb; color: white; }
        .btn-clear { background: #e5e7eb; color: #374151; }
        .num-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 15px; }
        .num-btn { width: 45px; height: 45px; border: 1px solid #d1d5db; background: white; cursor: pointer; border-radius: 4px; font-size: 0.8rem; }
        .num-btn.active { border: 2px solid #2563eb; }
        .num-btn.answered { background: var(--green); color: white; border-color: var(--green); }
        #result-screen { display: none; background: white; max-width: 800px; margin: 40px auto; padding: 40px; border-radius: 12px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.2); }
        .score-card { font-size: 3rem; color: var(--primary); margin: 20px 0; }
        .summary-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .summary-table td, th { border: 1px solid #ddd; padding: 12px; }
        .option-item { border: 1px solid #e5e7eb; padding: 12px; margin: 8px 0; border-radius: 6px; cursor: pointer; transition: 0.2s; }
        .option-item:hover { background: #f8fafc; }
        input[type="number"] { padding: 12px; width: 200px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem; }
    </style>
</head>
<body>

<div class="top-bar">
    <span><b>JEE MAINS: FULL TEST-01</b></span>
    <div class="timer" id="clock">180:00</div>
</div>

<div class="container" id="test-screen">
    <div class="question-box">
        <div id="sub-tag" class="subject-badge" style="background: #dbeafe; color: #1e40af;">PHYSICS</div>
        <h3 id="q-number">Question 1</h3>
        <p id="q-text" style="font-size: 1.1rem; line-height: 1.6;">Loading...</p>
        <div id="options-area"></div>
        <div style="margin-top: 30px;">
            <button class="btn btn-save" onclick="saveAndNext()">Save & Next</button>
            <button class="btn btn-clear" onclick="clearResponse()">Clear</button>
        </div>
    </div>

    <div class="sidebar">
        <h4>Question Palette</h4>
        <div class="num-grid" id="palette"></div>
        <button class="btn" style="background:var(--red); color:white; width:100%; margin-top:20px;" onclick="submitExam()">Final Submit</button>
    </div>
</div>

<div id="result-screen">
    <h1>Result Analysis</h1>
    <div class="score-card" id="total-score">0 / 300</div>
    <div style="display: flex; justify-content: space-around; margin-bottom: 30px;">
        <div>Correct: <b id="c-count" style="color:var(--green)">0</b></div>
        <div>Incorrect: <b id="i-count" style="color:var(--red)">0</b></div>
        <div>Unattempted: <b id="u-count">0</b></div>
    </div>
    <table class="summary-table">
        <thead><tr><th>Subject</th><th>Score</th><th>Accuracy</th></tr></thead>
        <tbody id="subject-stats"></tbody>
    </table>
    <button class="btn btn-save" style="margin-top:30px;" onclick="location.reload()">Restart Test</button>
</div>

<script>
// --- QUESTION DATABASE (75 QUESTIONS) ---
// Note: Yahan maine sample questions dale hain, aap isi format mein 75 tak extend karein.
const testQuestions = [
    // PHYSICS (1-25)
    { id: 1, sub: 'PHYSICS', type: 'MCQ', q: 'A particle moves in a circle of radius R. In half a period of revolution its displacement and distance covered are:', opts: ['2R, πR', 'R, πR', '2R, 2πR', '√2R, πR'], ans: 0 },
    { id: 2, sub: 'PHYSICS', type: 'MCQ', q: 'The dimensional formula for Planck\'s constant (h) is:', opts: ['[ML²T⁻¹]', '[MLT⁻²]', '[ML²T⁻²]', '[MLT⁻¹]'], ans: 0 },
    { id: 3, sub: 'PHYSICS', type: 'MCQ', q: 'Surface tension of a liquid is due to:', opts: ['Cohesive forces', 'Adhesive forces', 'Gravitational forces', 'None'], ans: 0 },
    // ... Add more Physics up to 25
    { id: 21, sub: 'PHYSICS', type: 'NVT', q: 'A body of mass 2kg is moving with 10m/s. Its Kinetic Energy (in Joules) is:', ans: 100 },
    
    // CHEMISTRY (26-50)
    { id: 26, sub: 'CHEMISTRY', type: 'MCQ', q: 'The hybridization of Carbon in Ethane is:', opts: ['sp', 'sp²', 'sp³', 'dsp²'], ans: 2 },
    { id: 27, sub: 'CHEMISTRY', type: 'MCQ', q: 'Which of the following has the highest electronegativity?', opts: ['Oxygen', 'Chlorine', 'Fluorine', 'Nitrogen'], ans: 2 },
    // ... Add more Chemistry up to 50
    { id: 46, sub: 'CHEMISTRY', type: 'NVT', q: 'Number of electrons in one mole of Hydrogen atom is 6.022 x 10^X. Value of X is:', ans: 23 },

    // MATHS (51-75)
    { id: 51, sub: 'MATHS', type: 'MCQ', q: 'If A is a square matrix such that A²=A, then (I+A)³ - 7A is equal to:', opts: ['I', 'A', 'I-A', '3A'], ans: 0 },
    { id: 52, sub: 'MATHS', type: 'MCQ', q: 'The value of sin(15°) is:', opts: ['(√3-1)/2√2', '(√3+1)/2√2', '1/2', '√3/2'], ans: 0 },
    // ... Add more Maths up to 75
    { id: 71, sub: 'MATHS', type: 'NVT', q: 'The number of subsets of a set containing 3 elements is:', ans: 8 }
];

// Filling the gaps for demonstration (75 items array)
while(testQuestions.length < 75) {
    let i = testQuestions.length + 1;
    let sub = i <= 25 ? 'PHYSICS' : (i <= 50 ? 'CHEMISTRY' : 'MATHS');
    testQuestions.push({
        id: i, sub: sub, type: (i%25 > 20 || i%25 == 0) ? 'NVT' : 'MCQ',
        q: `${sub} - Concept Question ${i}. What is the correct property for this element?`,
        opts: ['Option A', 'Option B', 'Option C', 'Option D'],
        ans: i%4 
    });
}

// --- TEST ENGINE ---
let currentQ = 0;
let responses = new Array(75).fill(null);
let timeLeft = 180 * 60;

function initPalette() {
    const palette = document.getElementById('palette');
    palette.innerHTML = testQuestions.map((q, i) => 
        `<button id="btn-${i}" class="num-btn" onclick="jumpTo(${i})">${i+1}</button>`
    ).join('');
    updateQuestion();
}

function updateQuestion() {
    const q = testQuestions[currentQ];
    document.getElementById('sub-tag').innerText = q.sub;
    document.getElementById('sub-tag').style.background = q.sub === 'PHYSICS' ? '#dbeafe' : (q.sub === 'CHEMISTRY' ? '#fef9c3' : '#dcfce7');
    document.getElementById('q-number').innerText = `Question ${q.id} (${q.type})`;
    document.getElementById('q-text').innerText = q.q;

    const area = document.getElementById('options-area');
    area.innerHTML = '';

    if(q.type === 'MCQ') {
        q.opts.forEach((opt, i) => {
            const checked = responses[currentQ] === i ? 'style="background:#eff6ff; border-color:#2563eb"' : '';
            area.innerHTML += `<div class="option-item" ${checked} onclick="selectOpt(${i})">
                <input type="radio" name="ans" ${responses[currentQ] === i ? 'checked' : ''}> ${opt}
            </div>`;
        });
    } else {
        area.innerHTML = `<input type="number" id="nvt-input" value="${responses[currentQ] || ''}" placeholder="Type Answer Here...">`;
    }

    // Palette highlight
    document.querySelectorAll('.num-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(`btn-${currentQ}`).classList.add('active');
}

function selectOpt(i) {
    responses[currentQ] = i;
    updateQuestion();
}

function saveAndNext() {
    if(testQuestions[currentQ].type === 'NVT') {
        responses[currentQ] = document.getElementById('nvt-input').value;
    }
    if(responses[currentQ] !== null && responses[currentQ] !== "") {
        document.getElementById(`btn-${currentQ}`).classList.add('answered');
    }
    if(currentQ < 74) {
        currentQ++;
        updateQuestion();
    }
}

function jumpTo(i) {
    if(testQuestions[currentQ].type === 'NVT') responses[currentQ] = document.getElementById('nvt-input').value;
    currentQ = i;
    updateQuestion();
}

function clearResponse() {
    responses[currentQ] = null;
    document.getElementById(`btn-${currentQ}`).classList.remove('answered');
    updateQuestion();
}

// Timer
setInterval(() => {
    timeLeft--;
    const m = Math.floor(timeLeft / 60);
    const s = timeLeft % 60;
    document.getElementById('clock').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
    if(timeLeft <= 0) submitExam();
}, 1000);

function submitExam() {
    let stats = {
        PHYSICS: { score: 0, c: 0, i: 0 },
        CHEMISTRY: { score: 0, c: 0, i: 0 },
        MATHS: { score: 0, c: 0, i: 0 }
    };

    testQuestions.forEach((q, idx) => {
        const resp = responses[idx];
        if(resp !== null && resp !== "") {
            if(resp.toString() == q.ans.toString()) {
                stats[q.sub].score += 4;
                stats[q.sub].c++;
            } else {
                stats[q.sub].score -= 1;
                stats[q.sub].i++;
            }
        }
    });

    const totalScore = stats.PHYSICS.score + stats.CHEMISTRY.score + stats.MATHS.score;
    const totalCorrect = stats.PHYSICS.c + stats.CHEMISTRY.c + stats.MATHS.c;
    const totalWrong = stats.PHYSICS.i + stats.CHEMISTRY.i + stats.MATHS.i;

    document.getElementById('test-screen').style.display = 'none';
    document.getElementById('result-screen').style.display = 'block';
    document.getElementById('total-score').innerText = `${totalScore} / 300`;
    document.getElementById('c-count').innerText = totalCorrect;
    document.getElementById('i-count').innerText = totalWrong;
    document.getElementById('u-count').innerText = 75 - (totalCorrect + totalWrong);

    document.getElementById('subject-stats').innerHTML = Object.keys(stats).map(s => `
        <tr>
            <td>${s}</td>
            <td>${stats[s].score}</td>
            <td>${stats[s].c > 0 ? Math.round((stats[s].c/(stats[s].c+stats[s].i))*100) : 0}%</td>
        </tr>
    `).join('');
}

initPalette();
</script>
</body>
</html>
