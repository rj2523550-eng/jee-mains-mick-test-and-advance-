<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE Mains Full Mock Test - 75 Questions</title>
    <style>
        :root {
            --bg: #f3f4f6;
            --header: #1e3a8a;
            --white: #ffffff;
            --text: #1f2937;
            --accent: #2563eb;
        }

        body { font-family: 'Segoe UI', Arial; background: var(--bg); color: var(--text); margin: 0; }
        
        /* Header & Timer */
        .top-bar { background: var(--header); color: white; padding: 15px 20px; display: flex; justify-content: space-between; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .timer { font-size: 1.2rem; font-weight: bold; background: #dc2626; padding: 5px 15px; border-radius: 5px; }

        .container { max-width: 1200px; margin: 20px auto; display: grid; grid-template-columns: 1fr 300px; gap: 20px; padding: 0 10px; }

        /* Question Area */
        .question-box { background: var(--white); padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); min-height: 400px; }
        .subject-tab { display: inline-block; padding: 5px 15px; border-radius: 20px; font-weight: bold; margin-bottom: 15px; }
        .physics { background: #dcfce7; color: #166534; }
        .chemistry { background: #fef9c3; color: #854d0e; }
        .maths { background: #dbeafe; color: #1e40af; }

        /* Navigation Sidebar */
        .sidebar { background: var(--white); padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); height: fit-content; }
        .num-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; margin-top: 15px; }
        .num-btn { width: 40px; height: 40px; border: 1px solid #ccc; background: white; cursor: pointer; border-radius: 5px; font-size: 0.8rem; }
        .num-btn.active { background: #2563eb; color: white; }
        .num-btn.answered { background: #16a34a; color: white; }

        /* Controls */
        .controls { margin-top: 30px; display: flex; gap: 10px; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .btn-next { background: var(--accent); color: white; }
        .btn-prev { background: #6b7280; color: white; }
        .btn-submit { background: #dc2626; color: white; width: 100%; margin-top: 20px; }

        /* Result Screen */
        #result-screen { display: none; text-align: center; background: white; padding: 50px; border-radius: 10px; max-width: 600px; margin: 50px auto; }
        .stat-box { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .stat-item { padding: 15px; border-radius: 10px; background: #f9fafb; border: 1px solid #e5e7eb; }
    </style>
</head>
<body>

<div class="top-bar">
    <div><strong>JEE MAINS FULL TEST-01</strong></div>
    <div class="timer" id="clock">180:00</div>
</div>

<div class="container" id="test-area">
    <div class="question-box">
        <div id="subject-label" class="subject-tab physics">PHYSICS</div>
        <div id="question-content">
            <h3 id="q-text">Loading Question...</h3>
            <div id="options-container"></div>
        </div>
        
        <div class="controls">
            <button class="btn btn-prev" onclick="prevQ()">Previous</button>
            <button class="btn btn-next" onclick="nextQ()">Save & Next</button>
        </div>
    </div>

    <div class="sidebar">
        <h4>Question Palette</h4>
        <div class="num-grid" id="palette"></div>
        <button class="btn btn-submit" onclick="finalSubmit()">Final Submit</button>
    </div>
</div>

<div id="result-screen">
    <h1>Test Analysis</h1>
    <div class="stat-box">
        <div class="stat-item">Total Score: <h2 id="res-score" style="color:#2563eb">0</h2></div>
        <div class="stat-item">Accuracy: <h2 id="res-acc" style="color:#16a34a">0%</h2></div>
        <div class="stat-item">Correct: <h2 id="res-corr" style="color:#16a34a">0</h2></div>
        <div class="stat-item">Incorrect: <h2 id="res-inc" style="color:#dc2626">0</h2></div>
    </div>
    <button class="btn btn-next" onclick="location.reload()">Re-attempt</button>
</div>

<script>
// Test Logic
let currentIdx = 0;
let userAnswers = new Array(75).fill(null);
let totalTime = 180 * 60; // 3 Hours

// Yahan 75 questions ka array banayein (Main format de raha hoon)
const questions = [];
for(let i=1; i<=75; i++) {
    let sub = i <= 25 ? 'PHYSICS' : (i <= 50 ? 'CHEMISTRY' : 'MATHS');
    let type = i % 25 > 20 || i % 25 == 0 ? 'NVT' : 'MCQ'; // 21-25 are Numerical types
    questions.push({
        id: i,
        subject: sub,
        type: type,
        text: `${sub} Question ${i}: Iska logical concept kya hoga?`,
        options: type == 'MCQ' ? ['Option A', 'Option B', 'Option C', 'Option D'] : null,
        correct: type == 'MCQ' ? 0 : "10" // Example Answer
    });
}

function displayQuestion() {
    const q = questions[currentIdx];
    document.getElementById('subject-label').innerText = q.subject;
    document.getElementById('subject-label').className = `subject-tab ${q.subject.toLowerCase()}`;
    document.getElementById('q-text').innerText = `Q${q.id}. ${q.text}`;
    
    const optContainer = document.getElementById('options-container');
    optContainer.innerHTML = '';

    if(q.type == 'MCQ') {
        q.options.forEach((opt, i) => {
            const isChecked = userAnswers[currentIdx] === i ? 'checked' : '';
            optContainer.innerHTML += `
                <div style="margin: 10px 0; padding: 10px; border: 1px solid #eee; border-radius: 5px;">
                    <label><input type="radio" name="opt" value="${i}" ${isChecked}> ${opt}</label>
                </div>`;
        });
    } else {
        const val = userAnswers[currentIdx] || '';
        optContainer.innerHTML = `<input type="number" id="nvt-ans" value="${val}" placeholder="Enter numerical value" style="padding:10px; width:100%; box-sizing:border-box;">`;
    }
    updatePalette();
}

function nextQ() {
    saveAns();
    if(currentIdx < 74) {
        currentIdx++;
        displayQuestion();
    }
}

function prevQ() {
    saveAns();
    if(currentIdx > 0) {
        currentIdx--;
        displayQuestion();
    }
}

function saveAns() {
    const q = questions[currentIdx];
    if(q.type == 'MCQ') {
        const selected = document.querySelector('input[name="opt"]:checked');
        if(selected) userAnswers[currentIdx] = parseInt(selected.value);
    } else {
        const val = document.getElementById('nvt-ans').value;
        if(val !== "") userAnswers[currentIdx] = val;
    }
}

function updatePalette() {
    const palette = document.getElementById('palette');
    palette.innerHTML = '';
    questions.forEach((q, i) => {
        let cls = i === currentIdx ? 'num-btn active' : 'num-btn';
        if(userAnswers[i] !== null) cls += ' answered';
        palette.innerHTML += `<button class="${cls}" onclick="jumpTo(${i})">${i+1}</button>`;
    });
}

function jumpTo(i) {
    saveAns();
    currentIdx = i;
    displayQuestion();
}

// Timer
const timerInterval = setInterval(() => {
    totalTime--;
    let m = Math.floor(totalTime/60);
    let s = totalTime % 60;
    document.getElementById('clock').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
    if(totalTime <= 0) finalSubmit();
}, 1000);

function finalSubmit() {
    saveAns();
    clearInterval(timerInterval);
    let score = 0, corr = 0, inc = 0;
    
    userAnswers.forEach((ans, i) => {
        if(ans !== null) {
            if(ans == questions[i].correct) {
                score += 4; corr++;
            } else {
                score -= 1; inc++;
            }
        }
    });

    document.getElementById('test-area').style.display = 'none';
    const res = document.getElementById('result-screen');
    res.style.display = 'block';
    document.getElementById('res-score').innerText = score;
    document.getElementById('res-corr').innerText = corr;
    document.getElementById('res-inc').innerText = inc;
    document.getElementById('res-acc').innerText = corr > 0 ? Math.round((corr/(corr+inc))*100) + '%' : '0%';
}

displayQuestion();
</script>

</body>
</html>
